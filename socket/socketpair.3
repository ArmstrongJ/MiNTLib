.TH socketpair 3 "MiNT-Net"
.SH NAME
socketpair \- create a pair of connected sockets
.SH SYNOPSIS
.B #include <sys/socket.h>
.PP
.B "int socketpair(int af, int type, int protocol, int sv[2]);"
.SH DESCRIPTION
.I socketpair
creates an unnamed pair of connected sockets
and returns two file descriptors in
.IR sv [0]
and
.IR sv [1].
The two sockets are indistinguishable.
.I af
specifies the address family.
See
.IR socket (3).
.IR type 
specifies the semantics of communication for the socket.
.I protocol
specifies a particular protocol to be used.
.I protocol
can be supplied as zero,
in which case the system chooses a protocol type to use.
.SH RETURN VALUES
Upon successful completion, a value of 0 is returned.
Otherwise, a value of \-1 is returned and
.B errno
is set to indicate the error.
.SH DIAGNOSTICS
The socketpair call fails if :
.RS
.TP 25
.SM [ENOENT]
The socket device driver has not been started.
.TP
.SM [EMFILE]
The per-process file descriptor table is full.
.TP
.SM [EAFNOSUPPORT]
The specified address family
is not supported.
.TP
.SM [ESOCKTNOSUPPORT]
The specified socket type is not supported in this address family.
.TP
.SM [EPROTONOSUPPORT]
The specified protocol is not supported.
.TP
.SM [EOPNOSUPPORT]
The specified protocol does not support creation of socket pairs.
.TP
.SM [ENOMEM]
Insufficient resources were available in the system to perform the
operation.
.TP
.SM [EPROTOTYPE]
The type of socket and protocol do not match.
.RE
.SH DEPENDENCIES
This call is supported only for
.SM AF_UNIX.
.SH "SEE ALSO"
read(3),
write(3),
socket(3).
